高校交友平台架构设计
=====================
 
**1 概要**

1.1目的

本文档描述了高校交友平台上基于Web架构的应用系统的一种开发模式，完成其Web架构设计。此次采用目前较为成熟的架构模式为MVC，这也是目前应用最为广泛的架构模式。
归纳出本开发模式的目的是：一、借鉴已有经验，加快开发速度；二、统一开发方式、管理方式，方便开发管理。 

1.2主要内容

Web应用架构反应了定义模块或组件以及它们之间的交互。它是事物一定程度上的抽象。它将一个软件系统分为几个模块以及模块之间的相互协作。本文通过分析高校交友平台的构架模式，从整体上把握交友平台实现原理。通过交友平台具体应用，体会架构在编程过程的重要性。


**2 Web应用架构**

2.1 MVC描述的软件模型

MVC是Model-View-Controller（模型－视图－控制器）的缩写，它把一个应用的处理流程分成模型层、视图层和控制层，控制器（Controler）控制器接受用户的输入并调用模型和视图去完成用户的需求 。视图（View）用户看到并与之交互的界面 模型（Model）企业数据和业务规则，如图1所示。
 
 ![b](http://www.baidupcs.com/thumbnail/1a1c3ba6107405b8de72a9be16d52a7f?fid=655247319-250528-2066827459&time=1370510054&sign=FDTAR-DCb740ccc5511e5e8fedcff06b081203-1ykemrQxEeJAwU56OdfaFOUldsU%3D&rt=sh&expires=8h&size=c850_u580&quality=100 "图1 MVC模式三层结构图")
 
模型层(也称业务层)用于处理程序逻辑。它的任务是管理应用程序域的行为和数据，响应来自控制层的状态指令，把原有数据按照业务逻辑转换成指定意义的数据提供给视图层显示。

视图层用于把表示模型数据、逻辑关系和状态的信息以特定的形式表现在用户界面上。视图层的显示信息来自模型层，同一个模型可以对应多个视图。
 
控制层用于处理用户与软件的交互操作。控制层通知模型和视图做出相应的状态改变，使模型和视图协调工作。

2.2 MVC模式设计

MVC的目的是增加代码的重用率，减少数据表达、数据描述和应用操作的耦合度，从而提高软件的可维护性、扩展性和灵活性。MVC模式把界面表现和逻辑控制语句强制分离，解决了页面设计和程序开发中的工作交错与冲突，并解决了由于商业逻辑嵌入造成程序不可重用而且很难维护的问题。

2.3 架构的设计与分析

MVC总体设计图如图2所示：
  
 ![a](http://www.baidupcs.com/thumbnail/5414ba75cf05ce771ea3011296b216fd?fid=655247319-250528-2103055947&time=1370511256&sign=FDTAR-DCb740ccc5511e5e8fedcff06b081203-55NYLLgBl%2B8LJrEOLSFTUkJqExQ%3D&rt=sh&expires=8h&size=c850_u580&quality=100 "图2")
 
  


高校交友平台基本架构图如图3所示：

 ![c](http://www.baidupcs.com/thumbnail/5eb907324440abd6641796531bc8930b?fid=655247319-250528-700198898&time=1370511256&sign=FDTAR-DCb740ccc5511e5e8fedcff06b081203-XYRIUu9BVGed%2BzQWstFxwe14QnY%3D&rt=sh&expires=8h&size=c850_u580&quality=100)
             

平台界面：用于显示界面信息，是用户与系统的交互，用户可以通过该界面在线聊天，发布信息，上传、下载资源。相当于MVC中的view。

高校平台代理服务器：接收用户请求，并将用户请求分类，发送至底层服务器。相当于MVC中的控制器。

底层服务器：对业务进行计算，并将结果返回给控制器。相当于MVC中的模型。

系统实现

在系统中，浏览器中呈现的是系统的视图部分，而模型和控制器则是透明的。当Web 服务器接收到客户提交的HTTP请求后，交给服务器中的控制器来处理。控制器按照请求中的信息，从系统配置中提取此信息的映射表，并把此请求映射到相应的处理模型；处理模型进行业务逻辑处理，处理完后返回状态更新的请求并将数据结果给控制器；控制器根据结果选择相应视图模板并合成视图返回给用户。程序架构如图4所示。

![d](http://www.baidupcs.com/thumbnail/ba616d3afcf0e35c25b04a1bf8957935?fid=655247319-250528-239509177&time=1370511256&sign=FDTAR-DCb740ccc5511e5e8fedcff06b081203-NXEb38oUg8kEgd%2BMoNMlVpkgs6s%3D&rt=sh&expires=8h&size=c850_u580&quality=100)

通过以上架构，我们对高校交友平台应用架构有了一定了解。接下来对框架进行进一步抽象，以数据为中心的架构出来，抽象化应用，关注与底层数据的管理。

![e](http://www.baidupcs.com/thumbnail/7125f19997b769049e8fb4d8f05c865d?fid=655247319-250528-832732463&time=1370511256&sign=FDTAR-DCb740ccc5511e5e8fedcff06b081203-ya4vUOwjc2fpf2Xo02PcxC9r99M%3D&rt=sh&expires=8h&size=c850_u580&quality=100)

2.4  MVC应用优势

1.适用性

MVC模式允许使用各种不同样式的视图来访问同一个服务器端的代码。满足了用户不同方式的访问需求。

2. 快速部署

使用MVC模式使开发时间得到相当大的缩减，它使程序员集中精力于业务逻辑，界面程序员集中精力于表现形式上。

3.可维护性

分离视图和业务逻辑也使得WEB应用更易于维护和修改。在维护过程中可以细化和减少工作量。


**3 结束语**

MVC设计思想中的三部分是相互独立的，既可以通过不同的技术实现，也可以运行在不同的基础平台上。随着更多新技术的出现，还可以创造出更多的应用方式。所以MVC设计模式的确是一个创建优秀软件的途径。

本文所描述的只是MVC应用系统开发的一个基础模式。模型和视图严格分离的模式相对混合模式，对开发和设计人员的要求要高一些，但更容易进行错误控制。此外，在实际的应用中，开发者还要结合各应用项目的业务需要进行详细的设计规划，认真考虑应用的额外复杂性。只有把这些想法融进到架构中，才能增加应用的可拓展性。只有把握这一点，MVC模式才会使得应用系统更加健壮、更加灵活和更容易扩展。




